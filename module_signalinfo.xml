<?xml version="1.0" encoding="UTF-8"?>
<project name="module_signalinfo" default="compile.module.signalinfo">
    <dirname property="module.signalinfo.basedir"
        file="${ant.file.module_signalinfo}" />

    <property name="module.jdk.home.signalinfo" value="${project.jdk.home}" />
    <property name="module.jdk.bin.signalinfo" value="${project.jdk.bin}" />
    <property name="module.jdk.classpath.signalinfo"
        value="${project.jdk.classpath}" />

    <property name="compiler.args.signalinfo" value="${compiler.args}" />

    <property name="signalinfo.output.dir"
        value="${module.signalinfo.basedir}/out/production/SignalInfo" />
    <property name="signalinfo.testoutput.dir"
        value="${module.signalinfo.basedir}/out/test/SignalInfo" />

    <path id="signalinfo.module.bootclasspath">
        <!-- Paths to be included in compilation bootclasspath -->
    </path>

    <path id="signalinfo.module.production.classpath">
        <path refid="${module.jdk.classpath.signalinfo}" />
        <pathelement
            location="E:/Program Files (x86)/Android/android-sdk-windows/android-compatibility/v4/android-support-v4.jar" />
        <path refid="library.googleadmobadssdk-6.2.1.classpath" />
    </path>

    <path id="signalinfo.runtime.production.module.classpath">
        <pathelement location="${signalinfo.output.dir}" />
        <pathelement
            location="E:/Program Files (x86)/Android/android-sdk-windows/android-compatibility/v4/android-support-v4.jar" />
        <path refid="library.googleadmobadssdk-6.2.1.classpath" />
    </path>

    <path id="signalinfo.module.classpath">
        <path refid="${module.jdk.classpath.signalinfo}" />
        <pathelement location="${signalinfo.output.dir}" />
        <pathelement
            location="E:/Program Files (x86)/Android/android-sdk-windows/android-compatibility/v4/android-support-v4.jar" />
        <path refid="library.googleadmobadssdk-6.2.1.classpath" />
    </path>

    <path id="signalinfo.runtime.module.classpath">
        <pathelement location="${signalinfo.testoutput.dir}" />
        <pathelement location="${signalinfo.output.dir}" />
        <pathelement
            location="E:/Program Files (x86)/Android/android-sdk-windows/android-compatibility/v4/android-support-v4.jar" />
        <path refid="library.googleadmobadssdk-6.2.1.classpath" />
    </path>


    <patternset id="excluded.from.module.signalinfo">
        <patternset refid="ignored.files" />
    </patternset>

    <patternset id="excluded.from.compilation.signalinfo">
        <patternset refid="compiler.excluded" />
        <patternset refid="excluded.from.module.signalinfo" />
    </patternset>

    <path id="signalinfo.module.sourcepath">
        <dirset dir="${module.signalinfo.basedir}">
            <include name="src" />
            <include name="gen" />
        </dirset>
    </path>


    <target name="compile.module.signalinfo"
        depends="compile.module.signalinfo.production,compile.module.signalinfo.tests"
        description="Compile module SignalInfo" />

    <target name="compile.module.signalinfo.production"
        depends="register.custom.compilers"
        description="Compile module SignalInfo; production classes">
        <mkdir dir="${signalinfo.output.dir}" />
        <javac2 destdir="${signalinfo.output.dir}" debug="${compiler.debug}"
            nowarn="${compiler.generate.no.warnings}"
            memorymaximumsize="${compiler.max.memory}" fork="true"
            executable="${module.jdk.bin.signalinfo}/javac">
            <compilerarg line="${compiler.args.signalinfo}" />
            <bootclasspath refid="signalinfo.module.bootclasspath" />
            <classpath refid="signalinfo.module.production.classpath" />
            <src refid="signalinfo.module.sourcepath" />
            <patternset refid="excluded.from.compilation.signalinfo" />
        </javac2>

        <copy todir="${signalinfo.output.dir}">
            <fileset dir="${module.signalinfo.basedir}/src">
                <patternset refid="compiler.resources" />
                <type type="file" />
                <patternset refid="excluded.from.compilation.signalinfo" />
            </fileset>
            <fileset dir="${module.signalinfo.basedir}/gen">
                <patternset refid="compiler.resources" />
                <type type="file" />
                <patternset refid="excluded.from.compilation.signalinfo" />
            </fileset>
        </copy>
    </target>

    <target name="compile.module.signalinfo.tests"
        depends="register.custom.compilers,compile.module.signalinfo.production"
        description="compile module SignalInfo; test classes"
        unless="skip.tests" />

    <target name="clean.module.signalinfo" description="cleanup module">
        <delete dir="${signalinfo.output.dir}" />
        <delete dir="${signalinfo.testoutput.dir}" />
    </target>
</project>